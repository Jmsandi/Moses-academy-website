<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Blog - Moses Academy Network | News & Updates</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Moses Academy Blog, School News, Education Updates, Sierra Leone Education News" name="keywords">
    <meta
        content="Read the latest news, updates, and articles from Moses Academy Network. Stay informed about our school activities, events, and educational insights."
        name="description">

    <!-- Favicon -->
    <link href="logo.png" rel="icon" type="image/png">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@600;700&family=Open+Sans&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"></div>
    </div>
    <!-- Spinner End -->


    <!-- Topbar Start -->
    <div class="container-fluid top-bar wow fadeIn" data-wow-delay="0.1s" style="background-color: #82d6fe;">
        <div class="row align-items-center h-100">
            <div class="col-lg-4 text-center text-lg-start">
                <a href="index.html" class="d-flex align-items-center">
                    <img src="logo.png" alt="Moses Academy Logo" class="me-3" style="height: 60px; width: auto;">
                    <h3 class="text-primary m-0">MOSES ACADEMY</h3>
                </a>
            </div>
            <div class="col-lg-8 d-none d-lg-block">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="d-flex justify-content-end">
                            <div class="flex-shrink-0 btn-square bg-primary">
                                <i class="fa fa-phone-alt text-dark"></i>
                            </div>
                            <div class="ms-2">
                                <h6 class="text-primary mb-0">Call Us</h6>
                                <span class="text-white"
                                    style="white-space: nowrap; font-size: 0.9rem;">+232-79-728-914</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="d-flex justify-content-end">
                            <div class="flex-shrink-0 btn-square bg-primary">
                                <i class="fa fa-envelope-open text-dark"></i>
                            </div>
                            <div class="ms-2">
                                <h6 class="text-primary mb-0">Mail Us</h6>
                                <span class="text-white">info@mosesacademynetwork.org</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="d-flex justify-content-end">
                            <div class="flex-shrink-0 btn-square bg-primary">
                                <i class="fa fa-map-marker-alt text-dark"></i>
                            </div>
                            <div class="ms-2">
                                <h6 class="text-primary mb-0">Address</h6>
                                <span class="text-white">Deep Eye Water, Sierra Leone</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid bg-secondary px-0 wow fadeIn" data-wow-delay="0.1s">
        <div class="nav-bar">
            <nav class="navbar navbar-expand-lg bg-primary navbar-dark px-4 py-lg-0">
                <div class="d-lg-none d-flex align-items-center">
                    <img src="logo.png" alt="Moses Academy Logo" class="me-2" style="height: 30px; width: auto;">
                    <small class="m-0">MOSES ACADEMY</small>
                </div>
                <button type="button" class="navbar-toggler me-0" data-bs-toggle="collapse"
                    data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav me-auto">
                        <a href="index.html" class="nav-item nav-link">Home</a>
                        <a href="about.html" class="nav-item nav-link">About Us</a>
                        <a href="feature.html" class="nav-item nav-link">Programs</a>
                        <a href="donation.html" class="nav-item nav-link">Admissions</a>
                        <div class="nav-item dropdown">
                            <a href="#!" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">School Life</a>
                            <div class="dropdown-menu bg-light m-0">
                                <a href="event.html" class="dropdown-item">Events & Calendar</a>
                                <a href="service.html" class="dropdown-item">Student Activities</a>
                                <a href="team.html" class="dropdown-item">Our Team</a>
                                <a href="testimonial.html" class="dropdown-item">Testimonials</a>
                                <a href="blog.html" class="dropdown-item active">Blog</a>
                            </div>
                        </div>
                        <a href="blog.html" class="nav-item nav-link active">Blog</a>
                        <a href="contact.html" class="nav-item nav-link">Contact</a>
                    </div>
                    <div class="d-none d-lg-flex ms-auto">
                        <a class="btn btn-square btn-dark ms-2"
                            href="https://www.facebook.com/share/1DEGVYLCcG/?mibextid=wwXIfr" target="_blank"
                            rel="noopener noreferrer" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-square btn-dark ms-2"
                            href="https://www.instagram.com/moses36816?igsh=N2Vlam56a2R6cDl3&utm_source=qr"
                            target="_blank" rel="noopener noreferrer" title="Instagram"><i
                                class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <!-- Navbar End -->


    <!-- Page Header Start -->
    <div class="container-fluid page-header py-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container text-center py-4">
            <h1 class="display-3 animated slideInDown">Our Blog</h1>
            <nav aria-label="breadcrumb animated slideInDown">
                <ol class="breadcrumb justify-content-center mb-0">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Blog</li>
                </ol>
            </nav>
        </div>
    </div>
    <!-- Page Header End -->


    <!-- Blog Start -->
    <div class="container-fluid py-5">
        <div class="container">
            <div class="row g-5">
                <!-- Blog List Start -->
                <div class="col-lg-8">
                    <div id="blogList" class="row g-4">
                        <!-- Blogs will be loaded here dynamically -->
                        <div class="col-12 text-center py-5">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="mt-3">Loading blogs...</p>
                        </div>
                    </div>
                </div>
                <!-- Blog List End -->

                <!-- Sidebar Start -->
                <div class="col-lg-4">
                    <div class="bg-light p-4 mb-4 wow fadeIn" data-wow-delay="0.1s">
                        <h4 class="mb-4">Search</h4>
                        <div class="position-relative">
                            <input type="text" class="form-control border-0 w-100 ps-3 pe-5"
                                placeholder="Search blogs..." id="searchInput" style="height: 48px;">
                            <button type="button" class="btn btn-primary position-absolute top-0 end-0 mt-1 me-1"
                                style="height: 46px; width: 46px;" onclick="searchBlogs()">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                    </div>

                    <div class="bg-light p-4 mb-4 wow fadeIn" data-wow-delay="0.2s">
                        <h4 class="mb-4">Recent Posts</h4>
                        <div id="recentPosts">
                            <!-- Recent posts will be loaded here -->
                        </div>
                    </div>

                    <div class="bg-light p-4 wow fadeIn" data-wow-delay="0.3s">
                        <h4 class="mb-4">About Moses Academy</h4>
                        <p>Moses Academy Network is a registered and government-recognized educational organization
                            established in 2015. We provide quality education for children and young people in Deep Eye
                            Water, Sierra Leone.</p>
                        <a href="about.html" class="btn btn-primary">Learn More</a>
                    </div>
                </div>
                <!-- Sidebar End -->
            </div>
        </div>
    </div>
    <!-- Blog End -->


    <!-- Blog Modal Start -->
    <div class="modal fade" id="blogModal" tabindex="-1" aria-labelledby="blogModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="blogModalLabel">Blog Post</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="blogModalBody">
                    <!-- Blog content will be loaded here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Blog Modal End -->


    <!-- Newsletter Start -->
    <div class="container-fluid bg-primary py-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-7 text-center wow fadeIn" data-wow-delay="0.5s">
                    <h1 class="display-6 mb-4">Stay Updated with Moses Academy</h1>
                    <div id="newsletter-message" class="alert d-none mb-3"></div>
                    <form id="newsletter-form" class="position-relative w-100 mb-2">
                        <input class="form-control border-0 w-100 ps-4 pe-5" type="email" id="newsletter-email"
                            name="email" placeholder="Enter Your Email" style="height: 60px;" required>
                        <button type="submit"
                            class="btn btn-lg-square shadow-none position-absolute top-0 end-0 mt-2 me-2"
                            id="newsletter-submit-btn"><i class="fa fa-paper-plane text-primary fs-4"></i></button>
                    </form>
                    <p class="mb-0">Subscribe to receive school updates, events, and news.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Newsletter End -->


    <!-- Footer Start -->
    <div class="container-fluid footer py-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container">
            <div class="row g-5 py-5">
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-light mb-4">Moses Academy</h4>
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>No. 2 Turay Driver, Via Cole Lane, Deep Eye
                        Water, Sierra Leone</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+232 79 728 914</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+1 (243) 293 2944</p>
                    <p class="mb-2"><i class="fa fa-envelope me-3"></i>info@mosesacademynetwork.org</p>
                    <p class="mb-2"><i class="fa fa-envelope me-3"></i>services@mosesacademynetwork.org</p>
                    <div class="d-flex pt-3">
                        <a class="btn btn-square btn-primary me-2"
                            href="https://www.facebook.com/share/1DEGVYLCcG/?mibextid=wwXIfr" target="_blank"
                            rel="noopener noreferrer" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-square btn-primary me-2"
                            href="https://www.instagram.com/moses36816?igsh=N2Vlam56a2R6cDl3&utm_source=qr"
                            target="_blank" rel="noopener noreferrer" title="Instagram"><i
                                class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-light mb-4">Quick Links</h4>
                    <a class="btn btn-link" href="about.html">About Us</a>
                    <a class="btn btn-link" href="contact.html">Contact Us</a>
                    <a class="btn btn-link" href="feature.html">Academic Programs</a>
                    <a class="btn btn-link" href="donation.html">Admissions</a>
                    <a class="btn btn-link" href="event.html">Events & Calendar</a>
                    <a class="btn btn-link" href="blog.html">Blog</a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-light mb-4">School Hours</h4>
                    <p class="mb-1">Monday - Friday</p>
                    <h6 class="text-light">8:00 AM - 4:00 PM</h6>
                    <p class="mb-1">Saturday</p>
                    <h6 class="text-light">9:00 AM - 1:00 PM (Admissions)</h6>
                    <p class="mb-1">Sunday</p>
                    <h6 class="text-light">Closed</h6>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-light mb-4">Gallery</h4>
                    <div class="row g-2">
                        <div class="col-4">
                            <img class="img-fluid w-100" src="moses academy/school-building.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid w-100" src="moses academy/class1.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid w-100" src="moses academy/Playground.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid w-100" src="moses academy/20211019_085342.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid w-100" src="moses academy/20211021_085025.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid w-100"
                                src="moses academy/249829548_429230468818294_8300871170877764821_n.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="copyright pt-5">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                        &copy; <a class="fw-semi-bold" href="index.html">Moses Academy Network</a>, All Rights Reserved
                        2025.
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        Made by <a class="fw-semi-bold" href="#!">Jmsandi</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#!" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <!-- Blog Script -->
    <script>
        const API_URL = window.location.origin;
        let allBlogs = [];

        // Load blogs on page load
        document.addEventListener('DOMContentLoaded', function () {
            loadBlogs();
        });

        // Load blogs from API
        async function loadBlogs() {
            try {
                const response = await fetch(`${API_URL}/backend/api/blog.php`);
                if (!response.ok) {
                    throw new Error('Failed to load blogs');
                }
                allBlogs = await response.json();
                displayBlogs(allBlogs);
                displayRecentPosts(allBlogs);
            } catch (error) {
                console.error('Error loading blogs:', error);
                document.getElementById('blogList').innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fa fa-exclamation-triangle fa-3x text-warning mb-3"></i>
                        <h4>Unable to load blogs</h4>
                        <p class="text-muted">Please try again later.</p>
                    </div>
                `;
            }
        }

        // Display blogs
        function displayBlogs(blogs) {
            const blogList = document.getElementById('blogList');

            if (blogs.length === 0) {
                blogList.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fa fa-newspaper fa-3x text-muted mb-3"></i>
                        <h4>No blogs available</h4>
                        <p class="text-muted">Check back later for updates.</p>
                    </div>
                `;
                return;
            }

            blogList.innerHTML = blogs.map(blog => `
                <div class="col-12 wow fadeIn" data-wow-delay="0.1s">
                    <div class="card border-0 shadow-sm mb-4">
                        <div class="row g-0">
                            ${blog.image_url ? `
                                <div class="col-md-4">
                                    <img src="${blog.image_url}" class="img-fluid rounded-start" alt="${blog.title}" style="height: 100%; object-fit: cover;">
                                </div>
                            ` : ''}
                            <div class="${blog.image_url ? 'col-md-8' : 'col-md-12'}">
                                <div class="card-body p-4">
                                    <div class="d-flex align-items-center mb-2">
                                        <small class="text-muted me-3">
                                            <i class="fa fa-calendar me-1"></i>
                                            ${new Date(blog.created_at).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
                                        </small>
                                        <small class="text-muted">
                                            <i class="fa fa-user me-1"></i>
                                            ${blog.author || 'Admin'}
                                        </small>
                                    </div>
                                    <h4 class="card-title mb-3">
                                        <a href="#" class="text-dark text-decoration-none" onclick="viewBlog(${blog.id}); return false;">
                                            ${blog.title}
                                        </a>
                                    </h4>
                                    <p class="card-text text-muted">
                                        ${blog.excerpt || blog.content.substring(0, 150) + '...'}
                                    </p>
                                    <a href="#" class="btn btn-primary btn-sm" onclick="viewBlog(${blog.id}); return false;">
                                        Read More <i class="fa fa-arrow-right ms-1"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Display recent posts
        function displayRecentPosts(blogs) {
            const recentPosts = document.getElementById('recentPosts');
            const recent = blogs.slice(0, 5);

            if (recent.length === 0) {
                recentPosts.innerHTML = '<p class="text-muted mb-0">No recent posts</p>';
                return;
            }

            recentPosts.innerHTML = recent.map(blog => `
                <div class="mb-3 pb-3 border-bottom">
                    <a href="#" class="text-dark text-decoration-none" onclick="viewBlog(${blog.id}); return false;">
                        <h6 class="mb-1">${blog.title}</h6>
                    </a>
                    <small class="text-muted">
                        <i class="fa fa-calendar me-1"></i>
                        ${new Date(blog.created_at).toLocaleDateString()}
                    </small>
                </div>
            `).join('');
        }

        // View blog details
        async function viewBlog(id) {
            try {
                const response = await fetch(`${API_URL}/backend/api/blog.php?id=${id}`);
                if (!response.ok) {
                    throw new Error('Failed to load blog');
                }
                const blog = await response.json();

                const modalBody = document.getElementById('blogModalBody');
                modalBody.innerHTML = `
                    ${blog.image_url ? `<img src="${blog.image_url}" class="img-fluid rounded mb-4" alt="${blog.title}">` : ''}
                    <div class="d-flex align-items-center mb-3">
                        <small class="text-muted me-3">
                            <i class="fa fa-calendar me-1"></i>
                            ${new Date(blog.created_at).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
                        </small>
                        <small class="text-muted">
                            <i class="fa fa-user me-1"></i>
                            ${blog.author || 'Admin'}
                        </small>
                    </div>
                    <h2 class="mb-4">${blog.title}</h2>
                    <div class="blog-content">
                        ${blog.content.replace(/\n/g, '<br>')}
                    </div>
                `;

                const modal = new bootstrap.Modal(document.getElementById('blogModal'));
                modal.show();
            } catch (error) {
                console.error('Error loading blog:', error);
                alert('Failed to load blog. Please try again.');
            }
        }

        // Search blogs
        function searchBlogs() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm === '') {
                displayBlogs(allBlogs);
                return;
            }

            const filtered = allBlogs.filter(blog =>
                blog.title.toLowerCase().includes(searchTerm) ||
                blog.content.toLowerCase().includes(searchTerm) ||
                (blog.excerpt && blog.excerpt.toLowerCase().includes(searchTerm))
            );

            displayBlogs(filtered);
        }

        // Allow Enter key to search
        document.getElementById('searchInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                searchBlogs();
            }
        });
    </script>
</body>

</html>